{
  "name": "webhook_inbox",
  "type": "base",
  "system": false,
  "schema": [
    {
      "name": "correlation_id",
      "type": "text",
      "required": true,
      "options": {
        "min": 1,
        "max": 100
      }
    },
    {
      "name": "event_type",
      "type": "text",
      "required": true,
      "options": {
        "min": 1,
        "max": 100
      }
    },
    {
      "name": "payload",
      "type": "json",
      "required": true
    },
    {
      "name": "product_order_ids",
      "type": "text",
      "required": false,
      "options": {
        "max": 1000
      }
    },
    {
      "name": "status",
      "type": "select",
      "required": true,
      "options": {
        "maxSelect": 1,
        "values": ["pending", "processing", "completed", "failed"]
      }
    },
    {
      "name": "retry_count",
      "type": "number",
      "required": true,
      "options": {
        "min": 0,
        "max": 100
      }
    },
    {
      "name": "max_retries",
      "type": "number",
      "required": true,
      "options": {
        "min": 1,
        "max": 100
      }
    },
    {
      "name": "error_message",
      "type": "text",
      "required": false,
      "options": {
        "max": 2000
      }
    },
    {
      "name": "processed_at",
      "type": "date",
      "required": false
    }
  ],
  "indexes": [
    "CREATE INDEX idx_webhook_inbox_status ON webhook_inbox (status)",
    "CREATE INDEX idx_webhook_inbox_created ON webhook_inbox (created)",
    "CREATE INDEX idx_webhook_inbox_event_type ON webhook_inbox (event_type)"
  ],
  "listRule": null,
  "viewRule": null,
  "createRule": null,
  "updateRule": null,
  "deleteRule": null
}
