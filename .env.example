# =============================================================================
# NumnaRoad Environment Configuration
# Copy this file to .env and fill in the values
# =============================================================================

# -----------------------------------------------------------------------------
# PocketBase Configuration
# -----------------------------------------------------------------------------
POCKETBASE_URL=http://127.0.0.1:8090
POCKETBASE_ADMIN_EMAIL=admin@numnaroad.com
POCKETBASE_ADMIN_PASSWORD=your_secure_password_here

# -----------------------------------------------------------------------------
# Stripe Configuration (use test keys for development)
# -----------------------------------------------------------------------------
STRIPE_SECRET_KEY=sk_test_...
STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# -----------------------------------------------------------------------------
# eSIM Provider API Keys
# -----------------------------------------------------------------------------
# PRIMARY: RedteaGO (eSIMAccess) - Wholesale pricing (~70% cheaper than retail APIs)
# Pricing: 1GB/7d=$0.46, 3GB/15d=$1.39, 5GB/30d=$2.30, 10GB/30d=$4.20
REDTEAGO_API_KEY=your_redteago_api_key
REDTEAGO_API_URL=https://api.esimaccess.com/api/v1

# BACKUP: eSIMCard
ESIM_CARD_API_KEY=your_esimcard_api_key
ESIM_CARD_API_URL=https://api.esimcard.com/v1

# BACKUP: MobiMatter
MOBIMATTER_API_KEY=your_mobimatter_api_key
MOBIMATTER_API_URL=https://api.mobimatter.com/v1

# FALLBACK: Airalo (retail API, higher costs)
AIRALO_API_KEY=your_airalo_api_key
AIRALO_API_SECRET_KEY=your_airalo_api_secret
AIRALO_API_URL=https://api.airalo.com/v2

# -----------------------------------------------------------------------------
# Email Configuration (Resend)
# -----------------------------------------------------------------------------
RESEND_API_KEY=re_...
RESEND_FROM_EMAIL=noreply@numnaroad.com

# -----------------------------------------------------------------------------
# n8n Workflow Automation (Optional when FEATURE_INLINE_FULFILLMENT=true)
# -----------------------------------------------------------------------------
# These are only required if FEATURE_INLINE_FULFILLMENT=false (legacy mode)
N8N_WEBHOOK_URL=http://localhost:5678
N8N_API_KEY=your_n8n_api_key

# -----------------------------------------------------------------------------
# Discord Notifications (Operations Alerts)
# -----------------------------------------------------------------------------
# Webhook URL for order failure notifications
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/...

# -----------------------------------------------------------------------------
# Monitoring (Sentry)
# -----------------------------------------------------------------------------
SENTRY_DSN=https://...@sentry.io/...
NEXT_PUBLIC_SENTRY_DSN=https://...@sentry.io/...

# -----------------------------------------------------------------------------
# Feature Flags
# -----------------------------------------------------------------------------
# Enable inline fulfillment (true = process orders directly, false = use n8n)
FEATURE_INLINE_FULFILLMENT=true

# -----------------------------------------------------------------------------
# Fulfillment Configuration
# -----------------------------------------------------------------------------
# Max time (ms) before returning from webhook (Stripe timeout is 30s)
FULFILLMENT_TIMEOUT_MS=25000

# Enable/disable email notifications for successful orders
FULFILLMENT_EMAIL_ENABLED=true

# Enable/disable Discord alerts for failed orders
FULFILLMENT_DISCORD_ALERTS=true

# -----------------------------------------------------------------------------
# Naver SmartStore Configuration
# -----------------------------------------------------------------------------
# Enable/disable SmartStore sales channel
SMARTSTORE_ENABLED=false

# Naver Commerce API credentials (from apicenter.commerce.naver.com)
NAVER_COMMERCE_APP_ID=your_app_id
NAVER_COMMERCE_APP_SECRET=your_app_secret
SMARTSTORE_SELLER_ID=your_seller_id

# Webhook signature verification (optional but recommended)
NAVER_COMMERCE_WEBHOOK_SECRET=your_webhook_secret

# API Base URL (default: production)
NAVER_COMMERCE_API_URL=https://api.commerce.naver.com/external/v1

# Cron job secret (for Vercel Cron protection)
CRON_SECRET=your_cron_secret

# -----------------------------------------------------------------------------
# Kakao Alimtalk Configuration (SOLAPI)
# -----------------------------------------------------------------------------
# Enable/disable Kakao Alimtalk notifications
KAKAO_ALIMTALK_ENABLED=false

# SOLAPI API credentials (from solapi.com)
SOLAPI_API_KEY=your_solapi_api_key
SOLAPI_API_SECRET=your_solapi_api_secret

# Kakao Channel configuration
KAKAO_CHANNEL_PF_ID=your_kakao_channel_pfid
KAKAO_ALIMTALK_SENDER_KEY=your_sender_key

# Template ID (must be pre-approved by Kakao)
KAKAO_ESIM_DELIVERY_TEMPLATE_ID=ESIM_DELIVERY_001

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
NODE_ENV=development
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Admin notification email
ADMIN_EMAIL=admin@numnaroad.com

# Internal API authentication
INTERNAL_API_KEY=your_internal_api_key

# Vercel Cron secret
CRON_SECRET=your_cron_secret
